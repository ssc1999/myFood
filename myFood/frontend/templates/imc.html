<!DOCTYPE html>
<html lang="en">

<head>
	<title>myFood</title>

	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link rel="icon" type="image/png" href="../images/icons/favicon.ico" />
	<link rel="stylesheet" type="text/css" href="../vendor/bootstrap/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css"
		href="../fonts/font-awesome-4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" type="text/css" href="../vendor/animate/animate.css">
	<link rel="stylesheet" type="text/css" href="../vendor/css-hamburgers/hamburgers.min.css">
	<link rel="stylesheet" type="text/css" href="../vendor/select2/select2.min.css">
	<link rel="stylesheet" type="text/css" href="../css/util.css">
	<link rel="stylesheet" type="text/css" href="../css/main.css">

</head>

<body>
	<div class="limiter">
		<div class="container-index">
			<div class="white-box">
				<h2>Calculate your IMC!</h2>
				<form class="imc-form" id="myForm">
					<div class="form-line">
						<label>Height:</label>
						<input type="text" id="height" placeholder="cm" class="box" />
					</div>
					<div class="form-line">
						<label>Weight:</label>
						<input type="text" id="weight" placeholder="kg" class="box" />
					</div>
					<div class="form-line">
						<label>Age:</label>
						<input type="text" id="age" placeholder="" class="box" />
					</div>
					<div class="form-line" id="sex-radio">
						<div>
							<label>
								<input type="radio" id="male" name="sex" value="male" checked>
								Male
							</label>
						</div>
						<div>
							<label>
								<input type="radio" id="female" name="sex" value="female" checked>
								Female
							</label>
							<!-- <label for="female">Female</label> -->
						</div>
					</div>
					<button type="submit" value="Submit" id="submit" />Calculate</button>
				</form>
				<div id="displayResult">
					<h3>h</h3>
				</div>
				<div class="index-down-btn">
					<a href="/index.html">
						<button class="down-btn">Go Back</button>
					</a>
				</div>
			</div>
		</div>
	</div>
	<script>
		const submit = document.getElementById('submit');
		const displayResult = document.getElementById('displayResult');
		var div = document.createElement('div');
		div.className('result');
		var h3 = document.createElement('h3');
		h3.innerHTML = "h";
		var h32 = document.createElement('h3');
		h32.innerHTML = "j";

		submit.addEventListener('click', () => {
			imc();
			div.innerHTML = `
					<h3>s</h3>
					<h3 id="type">sss</h3>
				`
			displayResult.appendChild(div);
		});

		async function imc(event) {

			const height = document.getElementById('height').value;
			const weight = document.getElementById('weight').value;
			const age = document.getElementById('age').value;
			const sex = document.getElementById('sex-radio').value;

			console.log(height, weight, age, sex);

			const result = await fetch("/api/imc", {
				method: "POST",
				headers: {
					"Content-Type": "application/json",
				},
				body: JSON.stringify({
					age: age,
					weight: weight,
					height: height,
					gender: sex,
				})
			})

			const total = await result.json();



		}

	</script>
	<!-- ------------------------SCRIPTS------------------------ -->
	<script src="../vendor/jquery/jquery-3.2.1.min.js"></script>

	<script src="../vendor/bootstrap/js/popper.js"></script>
	<script src="../vendor/bootstrap/js/bootstrap.min.js"></script>

	<script src="../vendor/select2/select2.min.js"></script>

	<script src="../vendor/tilt/tilt.jquery.min.js"></script>
	<script>
		$('.js-tilt').tilt({
			scale: 1.1
		})
	</script>

	<script src="../js/main.js"></script>

</body>

</html>